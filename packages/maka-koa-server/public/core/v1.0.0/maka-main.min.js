function getBaseUrl() {
    var baseUrl = ''
    var scripts = document.querySelectorAll("script");
    for (var i = 0; i < scripts.length; i++) {
        if (scripts[i].src && (
            scripts[i].src.indexOf('maka-main.js') != -1 ||
            scripts[i].src.indexOf('maka-main.min.js') != -1
        )) {
            baseUrl = scripts[i].src.substr(0, scripts[i].src.lastIndexOf('/') + 1)
        }
    }
    return baseUrl
}

var baseUrl = getBaseUrl()

function fix(target) {
    return baseUrl + target
}


require.config({
    baseUrl: "./",
    paths: {
        "react": fix("react.production.min"),
        "react-dom": fix("react-dom.production.min"),
        "prop-types": fix("prop-types.min"),
        "redux": fix("redux.min"),
        "react-redux": fix("react-redux.min"),
        "immutable": fix("immutable.min"),
        "maka": fix("maka-sdk.min"),
        
    },
    shim: {
    },
    map: {
        "*": {
            css: fix("css.min.js")
        }
    },
    waitSeconds: 0
});
require(["maka"], function (maka) {
    
        window.MAKA = maka;
        maka.init({
            baseUrl: "",
            appUrls:  {
    "hello": "hello/v1.0.0/hello.min.js"
}
        });
    
   
    window["main"] && window["main"](maka)
    window['onMakaReady'] && window['onMakaReady'](maka)
});