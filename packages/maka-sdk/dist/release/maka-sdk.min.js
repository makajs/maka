!function t(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react"),require("react-redux"),require("react-dom"),require("immutable"),require("redux"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","react-redux","react-dom","immutable","redux","prop-types"],n):"object"==typeof exports?exports.Maka=n(require("react"),require("react-redux"),require("react-dom"),require("immutable"),require("redux"),require("prop-types")):e.Maka=n(e.React,e.ReactRedux,e.ReactDOM,e.Immutable,e.Redux,e.PropTypes)}("undefined"!=typeof window&&window||"undefined"!=typeof global&&global,function(n,r,o,a,i,u){return f={},c.m=s=[function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}t.exports=n},function(t,e,n){"use strict";var r=n(12),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"config",{enumerable:!0,get:function t(){return a.default}}),Object.defineProperty(e,"action",{enumerable:!0,get:function t(){return i.default}}),Object.defineProperty(e,"appInstances",{enumerable:!0,get:function t(){return i.appInstances}}),Object.defineProperty(e,"reducer",{enumerable:!0,get:function t(){return u.default}}),Object.defineProperty(e,"wrapper",{enumerable:!0,get:function t(){return c.default}}),Object.defineProperty(e,"actionMixin",{enumerable:!0,get:function t(){return s.default}}),Object.defineProperty(e,"componentFactory",{enumerable:!0,get:function t(){return f.default}}),Object.defineProperty(e,"templateFactory",{enumerable:!0,get:function t(){return l.default}}),Object.defineProperty(e,"actionFactory",{enumerable:!0,get:function t(){return p.default}}),Object.defineProperty(e,"defaultComponent",{enumerable:!0,get:function t(){return d.default}}),Object.defineProperty(e,"rootElement",{enumerable:!0,get:function t(){return h.default}}),Object.defineProperty(e,"contextManager",{enumerable:!0,get:function t(){return y.default}}),e.defaultReducer=e.defaultAction=e.default=void 0;var a=o(n(27)),i=r(n(44)),u=o(n(108)),c=o(n(48)),s=o(n(112)),f=o(n(49)),l=o(n(47)),p=o(n(50)),d=o(n(115)),h=o(n(116)),y=o(n(34)),m=i.default;e.defaultAction=m;var v=u.default;e.defaultReducer=v;var g={config:a.default,action:i.default,reducer:u.default,wrapper:c.default,actionMixin:s.default,componentFactory:f.default,templateFactory:l.default,actionFactory:p.default,defaultComponent:d.default,defaultAction:m,defaultReducer:v,rootElement:h.default,contextManager:y.default,appInstances:i.appInstances};e.default=g},function(t,e){t.exports=n},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AppLoader",{enumerable:!0,get:function t(){return i.default}}),Object.defineProperty(e,"appMiddleware",{enumerable:!0,get:function t(){return u.default}}),Object.defineProperty(e,"reducer",{enumerable:!0,get:function t(){return c.default}}),Object.defineProperty(e,"config",{enumerable:!0,get:function t(){return s.default}}),Object.defineProperty(e,"start",{enumerable:!0,get:function t(){return f.default}}),Object.defineProperty(e,"appFactory",{enumerable:!0,get:function t(){return l.default}}),Object.defineProperty(e,"pluginFactory",{enumerable:!0,get:function t(){return p.default}}),Object.defineProperty(e,"init",{enumerable:!0,get:function t(){return d.default}}),Object.defineProperty(e,"loadApp",{enumerable:!0,get:function t(){return h.default}}),Object.defineProperty(e,"removeApp",{enumerable:!0,get:function t(){return y.default}}),e.removePlugin=e.existsPlugin=e.getPluginsByAppName=e.registerPlugin=e.existsApp=e.getApps=e.getApp=e.registerApps=e.registerApp=e.default=void 0;var o=r(n(2)),a=n(8),i=r(n(28)),u=r(n(32)),c=r(n(33)),s=r(n(16)),f=r(n(104)),l=r(n(15)),p=r(n(29)),d=r(n(105)),h=r(n(43)),y=r(n(106)),m=l.default.registerApp,v=l.default.registerApps,g=l.default.getApp,b=l.default.getApps,O=l.default.existsApp;e.existsApp=O,e.getApps=b,e.getApp=g,e.registerApps=v,e.registerApp=m;var _=p.default.registerPlugin,x=p.default.getPluginsByAppName,j=p.default.existsPlugin,w=p.default.removePlugin;e.removePlugin=w,e.existsPlugin=j,e.getPluginsByAppName=x,e.registerPlugin=_;var P={AppLoader:i.default,appMiddleware:u.default,reducer:c.default,config:s.default,init:d.default,start:f.default,registerApp:m,registerApps:v,getApp:g,getApps:b,existsApp:O,loadApp:h.default,removeApp:y.default,appFactory:l.default,registerPlugin:_,getPluginsByAppName:x,existsPlugin:j,removePlugin:w,pluginFactory:p.default};e.default=P},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"fetch",{enumerable:!0,get:function t(){return o.default}}),Object.defineProperty(e,"path",{enumerable:!0,get:function t(){return a.default}}),Object.defineProperty(e,"expression",{enumerable:!0,get:function t(){return i.default}}),Object.defineProperty(e,"string",{enumerable:!0,get:function t(){return u.default}}),Object.defineProperty(e,"exception",{enumerable:!0,get:function t(){return c.default}}),Object.defineProperty(e,"navigate",{enumerable:!0,get:function t(){return s.default}}),Object.defineProperty(e,"getGlobal",{enumerable:!0,get:function t(){return f.getGlobal}}),e.default=void 0;var o=r(n(58)),a=r(n(61)),i=r(n(93)),u=r(n(94)),c=r(n(95)),s=r(n(96)),f=n(37),l={fetch:o.default,string:u.default,path:a.default,expression:i.default,exception:c.default,navigate:s.default,getGlobal:f.getGlobal};e.default=l},function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=n},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n},function(t,e){t.exports=r},function(t,e){t.exports=o},function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}t.exports=n},function(t,e){t.exports=a},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}t.exports=n},function(t,e,n){var i=n(13);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function t(){return e},e}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,o;for(var a in t){Object.prototype.hasOwnProperty.call(t,a)&&((o=r?Object.getOwnPropertyDescriptor(t,a):null)&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a])}return n.default=t,e&&e.set(t,n),n}t.exports=r},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function t(e){return typeof e}:e.exports=n=function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(t,e,n){t.exports=n(53)},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(6)),a=r(n(5)),i=r(n(16)),u,c=(0,n(4).getGlobal)(),s,f=new function t(){var n=this;(0,o.default)(this,t),(0,a.default)(this,"registerApp",function(t,e){n.apps[t]?console.log("Already registered this app，name: ".concat(t,",please ignore")):n.apps[t]=e}),(0,a.default)(this,"registerApps",function(t){Object.assign(n.apps,t)}),(0,a.default)(this,"existsApp",function(t){return t=t.replace(/(\.js)|(\.min\.js)/,""),!!n.apps[t]}),(0,a.default)(this,"getApp",function(t){return t=t.replace(/(\.js)|(\.min\.js)/,""),n.apps[t]}),(0,a.default)(this,"getApps",function(){return n.apps}),(0,a.default)(this,"removeApp",function(t){delete n.apps[t]}),this.apps={},c.__maka_apps__=this.apps},l;e.default=f},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(5));function a(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={},c;function s(t){t.appUrls&&u.appUrls&&(t.appUrls=i(i({},u.appUrls),t.appUrls)),Object.assign(u,t)}s.current=u,e.default=s},function(t,e){function c(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function n(u){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=u.apply(t,i);function o(t){c(r,e,n,o,a,"next",t)}function a(t){c(r,e,n,o,a,"throw",t)}o(void 0)})}}t.exports=n},function(t,e,n){var r=n(35);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}t.exports=o},function(t,e,n){var r=n(13),o=n(36);function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}t.exports=a},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(t,e){t.exports=i},function(t,e,n){var r,o=n(39)(Object,"create");t.exports=o},function(t,e,n){var r=n(83);function o(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}t.exports=o},function(t,e,n){var r=n(89);function o(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}t.exports=o},function(t,e,n){"use strict";function r(t){var e=t.split("?"),n=e[0],r=e[1]||"",o;return{fullName:t,name:n,query:r,params:a(r)}}function a(t){for(var e={},n=t.replace(/^\?/,"").split("&"),r=n.length,o=0,a;o<r;o++)n[o]&&(e[(a=n[o].split("="))[0]]=decodeURIComponent(a[1]));return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){var r=n(97),o=n(98),a=n(99),i=n(100);function u(t){return r(t)||o(t)||a(t)||i()}t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={},o;function a(t){Object.assign(r,t)}a.current=r,e.default=a},function(t,e,n){"use strict";var r=n(12),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n(5)),i=o(n(11)),u=o(n(54)),c=o(n(6)),s=o(n(9)),f=o(n(18)),l=o(n(19)),p=o(n(20)),d=o(n(2)),h=n(10),y=n(7),m=n(21),v=r(n(56)),g=o(n(57)),b=o(n(29)),O=o(n(25));function _(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(o){var a=w();return function t(){var e=(0,p.default)(o),n,r,n;return n=a?(r=(0,p.default)(this).constructor,Reflect.construct(e,arguments,r)):e.apply(this,arguments),(0,l.default)(this,n)}}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var P=function(t){(0,f.default)(r,t);var n=j(r);function r(t,e){return(0,c.default)(this,r),n.call(this,t,e)}return(0,s.default)(r,[{key:"componentDidMount",value:function t(){var e=this.props,n=e.name,r;e.payload.get("@@require")||this.props.loadApp(n)}},{key:"componentWillReceiveProps",value:function t(e){var n=e.name,r,o=e.payload.get("@@require"),a,i,u;o?this.props.name!=e.name?this.props.clearAppState(this.props.name):(a=o.get("plugins").toJS(),i=(0,O.default)(n),u=b.default.getPluginNames(i.name)||[],JSON.stringify(a.sort())!==JSON.stringify(u.sort())&&this.props.loadPlugin(n,this.props.name)):this.props.loadApp(n,this.props.name)}},{key:"shouldComponentUpdate",value:function t(e,n){return!0}},{key:"componentWillUnmount",value:function t(){var e=this.props,n=e.name,r=e.payload,o;!0!==this.props._notClearAppState?this.props.clearAppState(n):(o=this.props._parentApp)&&(window.MAKA.store.getState().getIn([o,"data"])||this.props.clearAppState(n))}},{key:"render",value:function t(){var e=this.props,n=e.name,r=e.payload,o=(0,u.default)(e,["name","payload"]),a=r.getIn(["@@require","container"]);return a?d.default.createElement(a,(0,i.default)({store:this.context.store},o,{payload:r,key:n})):null}}]),r}(d.default.Component);P.contextTypes={store:g.default.object};var A=(0,y.connect)(function(t,e){var n;return{payload:t.get(e.name)||(0,h.Map)()}},function(t){return x({},(0,m.bindActionCreators)(v,t))},null,{pure:!0})(P);e.default=A},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(6)),a=r(n(5)),i,u=(0,n(4).getGlobal)(),c,s=new function t(){var r=this;(0,o.default)(this,t),(0,a.default)(this,"registerPlugin",function(e,t){var n;e&&t&&(-1==r.plugins.findIndex(function(t){return t.name==e})?(/^\/[^\/]+\//.test(t)&&(n=new RegExp(t)),r.plugins.push({name:e,forApp:t,regExp:n})):console.log("Already registered this plugin，name: ".concat(e,",please ignore")))}),(0,a.default)(this,"removePlugin",function(e){var t;!e||-1!=(t=r.plugins.findIndex(function(t){return t.name==e}))&&r.plugins.splice(t,1)}),(0,a.default)(this,"existsPlugin",function(e){if(e)return-1!=r.plugins.findIndex(function(t){return t.forApp===e||t.regExp&&t.regExp.test(e)})}),(0,a.default)(this,"filter",function(e){return e?r.plugins.filter(function(t){return t.forApp===e||t.regExp&&t.regExp.test(forApp)}):[]}),(0,a.default)(this,"getPluginNames",function(t){return r.filter(t).map(function(t){return t.name})}),this.plugins=[],u.__maka_plugins__=this.plugins},f;e.default=s},function(t,e,n){var r=n(62),u="Expected a function";function c(o,a){if("function"!=typeof o||null!=a&&"function"!=typeof a)throw new TypeError(u);var i=function(){var t=arguments,e=a?a.apply(this,t):t[0],n=i.cache;if(n.has(e))return n.get(e);var r=o.apply(this,t);return i.cache=n.set(e,r)||n,r};return i.cache=new(c.Cache||r),i}c.Cache=r,t.exports=c},function(t,e,n){var r=n(69),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();t.exports=a},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var R=r(n(14)),C=r(n(26)),o=r(n(5)),a=r(n(17)),U=r(n(25)),L=r(n(15)),N=r(n(43)),H=r(n(29));function i(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function t(T,D){return function(I){return function(F){return function(){var e=(0,a.default)(R.default.mark(function t(n){var r,a,o,i,u,c,s,f,l,p,d,h,y,m,v,g,b,O,_,x,j,w,P,A,k,E,S,M;return R.default.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:if(r=I.getState,a=I.dispatch,"function"!=typeof n){e.next=10;break}o=n(),i=o.fullName,u=o.name,c=o.query,s=o.params,f=o.actionCreator,l=o.args,p=o.reducer,y=B({currentApp:{fullName:i,name:u,query:c,params:s},store:I,reduce:d=function t(e){for(var n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];a({type:"@@reduce",payload:{fullName:i,name:u,query:c,type:e,reducer:p,payload:r,reducerInjections:D}})},getState:h=function t(){return r().get(i)}},T),"function"==typeof(m=f.apply(void 0,(0,C.default)(l).concat([y])))&&m(y),e.next=70;break;case 10:if(!n.type||"@@loadApp"!=n.type){e.next=43;break}if(e.prev=11,v=n.payload.fullName,g=n.payload.prevFullName,b=(0,U.default)(v),O=L.default.getApp(b.name)){e.next=17;break}return e.next=17,(0,N.default)(b.name);case 17:if(O=L.default.getApp(b.name)){e.next=21;break}return console.error("Loading app ".concat(b.name," failed")),e.abrupt("return",F(n));case 21:if(_=H.default.getPluginNames(b.name),x=[],!(_&&0<_.length)){e.next=34;break}j=0;case 25:if(!(j<_.length)){e.next=34;break}if(w=_[j],L.default.getApp(w)){e.next=30;break}return e.next=30,(0,N.default)(w);case 30:x.push(L.default.getApp(w));case 31:j++,e.next=25;break;case 34:return e.abrupt("return",F({type:"@@loadAppReal",payload:{fullName:v,appInfo:O,prevFullName:g,action:O.action,pluginApps:x,plugins:_}}));case 37:return e.prev=37,e.t0=e.catch(11),console.error(e.t0),e.abrupt("return",F(n));case 41:e.next=70;break;case 43:if(!n.type||"@@loadPlugin"!=n.type){e.next=69;break}if(e.prev=44,P=n.payload.fullName,A=n.payload.prevFullName,k=(0,U.default)(P),E=L.default.getApp(k.name),S=H.default.getPluginNames(k.name),M=[],!(S&&0<S.length)){e.next=60;break}j=0;case 51:if(!(j<S.length)){e.next=60;break}if(w=S[j],L.default.getApp(w)){e.next=56;break}return e.next=56,(0,N.default)(w);case 56:M.push(L.default.getApp(w));case 57:j++,e.next=51;break;case 60:return e.abrupt("return",F({type:"@@loadAppReal",payload:{fullName:P,appInfo:E,prevFullName:A,action:E.action,pluginApps:M,plugins:S,forceLoad:!0}}));case 63:return e.prev=63,e.t1=e.catch(44),console.error(e.t1),e.abrupt("return",F(n));case 67:e.next=70;break;case 69:return e.abrupt("return",F(n));case 70:case"end":return e.stop()}},t,null,[[11,37],[44,63]])}));return function(t){return e.apply(this,arguments)}}()}}};e.default=u},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var o=r(n(5)),_=n(10),x=r(n(101)),j=r(n(102)),w=r(n(103)),P=r(n(16)),a;function i(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=(0,n(4).getGlobal)();function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,_.Map)(),e=1<arguments.length?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"@@loadAppReal":return c(t,r);case"@@reduce":return s(t,r);case"@@clearAppState":return k(t,r);default:return t}}function c(t,e){var n=e.fullName,r=e.prevFullName,o=e.appInfo,a=e.component,i=e.action,u=e.reducer,c=e.pluginApps,s=e.plugins,f=void 0===s?[]:s,l=e.forceLoad,p=void 0!==l&&l;if(!t.has(n)||p){if(p&&JSON.stringify(t.getIn([n,"@@require","plugins"]).toJS().sort())===JSON.stringify(f.sort()))return t;if(t=p?t.set(n,(0,_.Map)({prevData:t.getIn([n,"data"])})):t.set(n,(0,_.Map)()),(o=A({},o))&&o.view&&"function"==typeof o.view&&(a=P.default.current.componentWrapper()(o.view)),c&&0<c.length)for(var d=0;d<c.length;d++){var h=c[d];h.pluginApi&&h.pluginApi.afterState&&(o.state=h.pluginApi.afterState((0,_.fromJS)(o.state).toJS())),h.pluginApi&&h.pluginApi.afterView&&(o.view=h.pluginApi.afterView((0,_.fromJS)(o.view).toJS()))}var y="function"==typeof i?i({appInfo:o,fullName:n,plugins:f}):P.default.current.defaultAction({appInfo:o,fullName:n,plugins:f}),m=y.getDirectFuns();c&&0<c.length&&(c.forEach(function(t){t.pluginApi&&t.pluginApi.afterAction&&(m=t.pluginApi.afterAction(m))}),y=A(A({},y),{},{getDirectFuns:function t(){return m}}));var v="function"==typeof u?u({appInfo:o,fullName:n}):P.default.current.defaultReducer({appInfo:o,fullName:n}),g=(0,x.default)(n),b=(0,j.default)(n,y,v),O=(0,w.default)(a||o.viewDecorator&&o.viewDecorator()(P.default.current.defaultComponent)||P.default.current.defaultComponent,g,b,function(t,e,n){return A(A(A({},n),t),e)},{pure:!0});t=t.setIn([n,"@@require"],(0,_.Map)({fullName:n,appInfo:o,component:a,action:y,reducer:v,container:O,mapStateToProps:g,mapDispatchToProps:b,plugins:(0,_.fromJS)(f||[])}))}return r&&r!=n&&(t=k(t,{fullName:r})),t}function k(t,e){var n=e.fullName;if(!t.has(n))return t;var r=[];return t.get(n).mapKeys(function(t){return"@@require"!=t&&r.push(t),t}),r.forEach(function(e){e&&(t=t.update(n,function(t){return t.remove(e)}))}),t}function s(t,e){var n=e.reducer,r=e.type,o=e.payload,a=e.fullName,i=e.injectFunsForReducer,u=new Date,c=t.get(a),s=n[r].apply(this,[c].concat(o)),f;return"function"==typeof s&&(s=s(i)),!0===l.__maka_record_action__?(l.__maka_actions__=l.__maka_actions__||[],f=new Date,l.__maka_actions__.unshift({appFullName:a,reduceMethod:r,payload:o,oldState:c,newState:s,startTime:u.getHours()+":"+u.getMinutes()+":"+u.getSeconds()+"."+u.getMilliseconds(),endTime:f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+"."+f.getMilliseconds(),elapsedTime:Math.abs(u.getTime()-f.getTime())})):l.__maka_actions__&&(l.__maka_actions__=void 0),t.set(a,s)}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(6)),a=r(n(9)),i,u=new(function(){function t(){(0,o.default)(this,t),this._context={}}return(0,a.default)(t,[{key:"set",value:function t(e,n,r){var o;(2<arguments.length&&void 0!==r?r:{enableLocalStorage:!1}).enableLocalStorage&&n&&(window.localStorage[e]=JSON.stringify(n)),!n&&window.localStorage[e]&&window.localStorage.removeItem(e),this._context[e]=n}},{key:"get",value:function t(e){return this._context[e]||window.localStorage[e]&&JSON.parse(window.localStorage[e])}}]),t}()),c;e.default=u},function(n,t){function r(t,e){return n.exports=r=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e},r(t,e)}n.exports=r},function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n},function(t,r,e){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.getGlobal=void 0;var t=function t(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")},n={getGlobal:r.getGlobal=t};r.default=n}).call(this,e(38))},function(t,e){var n,n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(66),o=n(75);function a(t,e){var n=o(t,e);return r(n)?n:void 0}t.exports=a},function(t,e,n){var r,o=n(31).Symbol;t.exports=o},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=n},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var p=r(n(14)),d=r(n(5)),o=r(n(17)),a=r(n(13)),h=r(n(15)),i=r(n(16)),u;function c(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=(0,n(4).getGlobal)(),s=!0;function f(t){return t}function l(t){var e=i.default.current.baseUrl;if(!e)for(var n=document.querySelectorAll("script"),r=0;r<n.length;r++)!n[r].src||-1==n[r].src.indexOf("maka-main.js")&&-1==n[r].src.indexOf("maka-main.min.js")||-1!=n[r].src.indexOf("http")&&(-1!=(e=n[r].src.substr(0,n[r].src.lastIndexOf("/")+1)).indexOf("/core/v")&&(e=e.substr(0,e.indexOf("/core/v")+1)),-1!=e.indexOf("/maka-sdk/")&&(e=e.substr(0,e.indexOf("/maka-sdk/")+1)));return e&&-1==t.indexOf("http")&&(t=e+t),-1!=t.indexOf("http")&&-1==t.indexOf(".js")&&(t+=s?".min.js":".js"),t}function v(t){if("string"==typeof t){if(i.default.current.appUrls){var e=i.default.current.appUrls[t];return l(e||t)}return l(t)}if("object"==(0,a.default)(t))return t.url?l(t.url):v(t.name)}function g(e){var t="",n,t;return i.default.current.appUrls&&(t=Object.keys(i.default.current.appUrls).find(function(t){return i.default.current.appUrls[t].url==e})),t||e.substr(e.lastIndexOf("/")+1).replace(/(\.js)|(\.min\.js)/,"")}function b(t){var l=[];return t instanceof Array?t.forEach(function(t){return l.push(v(t))}):l.push(v(t)),m.require&&0!=l.length?new Promise(function(f,t){(l=(l=l.filter(function(t){var e=g(t),n=t.indexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"";return m["__pub_".concat(e,"__")]=n,!h.default.existsApp(e)})).map(function(t){return-1!=t.indexOf("http")?t:-1!=t.indexOf(".js")?t.replace(".js",""):s?t+".min":t}))&&0!=l.length?m.require(l,(0,o.default)(p.default.mark(function t(){var n,r,o,a,i,u,c,s=arguments;return p.default.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,r=new Array(n),o=0;o<n;o++)r[o]=s[o];if(a=r.reduce(function(t,e){return e?y(y({},t),{},(0,d.default)({},e.name,e)):e},{})){e.next=6;break}console.error("Not application found at "+l.join(";")),e.next=19;break;case 6:i=Object.keys(a),u=0;case 8:if(!(u<i.length)){e.next=16;break}if(e.t0=a[i[u]].beforeRegister,e.t0)return e.next=13,a[i[u]].beforeRegister();e.next=13;break;case 13:u++,e.next=8;break;case 16:h.default.registerApps(a),c=l.map(function(t){return-1!=t.indexOf("http")?"css!".concat(t.replace(".js",".css")):"css!".concat(t)}),m.require(c,function(){f(null);for(var t=0;t<i.length;t++)a[i[t]].afterRegister&&a[i[t]].afterRegister()});case 19:case"end":return e.stop()}},t)}))):f(null)}):Promise.resolve(null)}},function(t,e,n){"use strict";var r=n(12),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.appInstances=void 0;var b=o(n(13)),a=o(n(45)),i=o(n(26)),u=o(n(6)),c=o(n(5)),s=o(n(2)),f=r(n(46)),O=o(n(4)),l=n(10),p=o(n(34)),d=o(n(27)),h={};e.appInstances=h;var y=function t(e){var g=this;(0,u.default)(this,t),(0,c.default)(this,"config",function(t){var e=t.metaHandlers;g.metaHandlers=e,g.cache.handlerKeys=Object.keys(e),g.allActionKeys=g.cache.handlerKeys,g.allAction=g.metaHandlers}),(0,c.default)(this,"getAllAction",function(){return g.allAction}),(0,c.default)(this,"setMetaForce",function(t,e){f.setMetaForce(t,e,g.component&&g.component.props.appQuery)}),(0,c.default)(this,"setActionForce",function(t){var e;t&&(g.cache.expression={},g.cache.expressionParams=void 0,e=Object.keys(t),g.allActionKeys=e,g.allAction=t,g.cache.handlerKeys.forEach(function(t){-1==g.allActionKeys.indexOf(t)&&(g.allActionKeys.push(t),g.allAction[t]=g.metaHandlers[t])}))}),(0,c.default)(this,"initView",function(t,e){g.component=t||{props:{}},g.injections=e,g.metaHandlers.component=g.component,g.metaHandlers.injections=g.injections,t.props.appFullName&&(h[t.props.appFullName]={appName:t.props.appName,appQuery:t.props.appQuery,instance:t});var n=t.props._notClearAppState,r;void 0===t.props._notClearAppState&&(n=!(!t.props.appParams||!t.props.appParams._notClearAppState)),!0===n&&g.gs("data")||(r=g.appInfo.state&&g.appInfo.state.data||{},g.ss({data:r}),g.metaHandlers&&g.metaHandlers.onInit&&g.metaHandlers.onInit({component:t,injections:e}))}),(0,c.default)(this,"unmount",function(){delete h[g.component.appFullName]}),(0,c.default)(this,"componentWillMount",function(){g.metaHandlers&&g.metaHandlers.componentWillMount&&g.metaHandlers.componentWillMount!=g.componentWillMount&&g.metaHandlers.componentWillMount()}),(0,c.default)(this,"componentDidMount",function(){g.metaHandlers&&g.metaHandlers.componentDidMount&&g.metaHandlers.componentDidMount!=g.componentDidMount&&g.metaHandlers.componentDidMount()}),(0,c.default)(this,"shouldComponentUpdate",function(t,e){g.metaHandlers&&g.metaHandlers.shouldComponentUpdate&&g.metaHandlers.shouldComponentUpdate!=g.shouldComponentUpdate&&g.metaHandlers.shouldComponentUpdate(t,e)}),(0,c.default)(this,"componentWillReceiveProps",function(t){g.metaHandlers&&g.metaHandlers.componentWillReceiveProps&&g.metaHandlers.componentWillReceiveProps!=g.componentWillReceiveProps&&g.metaHandlers.componentWillReceiveProps(t)}),(0,c.default)(this,"componentWillUpdate",function(t,e){g.metaHandlers&&g.metaHandlers.componentWillUpdate&&g.metaHandlers.componentWillUpdate!=g.componentWillUpdate&&g.metaHandlers.componentWillUpdate(t,e)}),(0,c.default)(this,"componentDidCatch",function(t,e){g.metaHandlers&&g.metaHandlers.componentDidCatch&&g.metaHandlers.componentDidCatch!=g.componentDidCatch&&g.metaHandlers.componentDidCatch(t,e)}),(0,c.default)(this,"componentWillUnmount",function(){g.metaHandlers&&g.metaHandlers.componentWillUnmount&&g.metaHandlers.componentWillUnmount!=g.componentWillUnmount&&g.metaHandlers.componentWillUnmount()}),(0,c.default)(this,"componentDidUpdate",function(){g.metaHandlers&&g.metaHandlers.componentDidUpdate&&g.metaHandlers.componentDidUpdate!=g.componentDidUpdate&&g.metaHandlers.componentDidUpdate()}),(0,c.default)(this,"getAppInstances",function(){return h}),(0,c.default)(this,"getState",function(t){return f.getField(g.injections.getState(),t)}),(0,c.default)(this,"setState",function(t,e){return e?g.injections.reduce("setField",t,e):g.injections.reduce("setFields",t)}),(0,c.default)(this,"parseExpreesion",function(t,e){g.cache.expression||(g.cache.expression={});var n=t;if(e&&0<e.length&&(n+=e.toString()),g.cache.expression[n])return g.cache.expression[n];g.cache.expressionParams||(g.cache.expressionParams=["data"].concat(g.allActionKeys.map(function(t){return"$"+t})).concat(["_path","_vars"]));var r=g.cache.expressionParams;e&&0<e.length&&(r=r.concat(e));var o=O.default.expression.getExpressionBody(t);return d.default.current.transformer&&(o="return"===o.substr(0,6)?(o=o.substr(6),"return "+(o=d.default.current.transformer(o))):d.default.transformer(o)),g.cache.expression[t]=(0,a.default)(Function,(0,i.default)(r).concat([o])),g.cache.expression[t]}),(0,c.default)(this,"execExpression",function(e,t,n,r,o){for(var a=[t],i=g.allActionKeys,u,c,s=function t(e){var n=g.allAction[e];return n&&"function"==typeof n&&(n.__method_name__=e),n},u=0,f;c=i[u++];)a.push(s(c));a.push(n),a.push((r||"").split(",")),o&&(f=Object.keys(o))&&0<f.length&&f.forEach(function(t){a.push(o[t])});try{return g.parseExpreesion(e,f).apply(g,a)}catch(t){g.metaHandlers&&g.metaHandlers.componentDidCatch&&g.metaHandlers.componentDidCatch!=g.componentDidCatch&&g.metaHandlers.componentDidCatch(t),setTimeout(function(){console.error("expression parsing error：".concat(e)),O.default.exception.error(t)},500)}}),(0,c.default)(this,"needUpdate",function(t){if(!t)return!1;var e=(0,b.default)(t);return!("string"!=e||!O.default.expression.isExpression(t))||"object"==e&&(!0!==t._notParse&&!("object"!=e||t.$$typeof||t._isAMomentObject||t._power||!1===t._visible))}),(0,c.default)(this,"updateMeta",function(i,u,c,s,f){if(i instanceof Array)for(var t=0;t<i.length;t++){var e=i[t],n=c,r,o,a;e&&(e._for||e._function?(e._vars=s,e._extParas=f,e.path="".concat(c,".").concat(e._name)):("string"==(r=(a=o=!1,b.default)(e))&&O.default.expression.isExpression(e)&&(o=!0,(e=g.execExpression(e,u,c,s,f))&&!0===e._isMeta&&(a=!0),e&&!0===e._isMeta?(a=!0,i[t]=e.value):i[t]=e),g.needUpdate(e)&&(o&&!a||(r=(0,b.default)(e),!(e instanceof Array)&&e._name&&e.component?(n="".concat(c,".").concat(e._name),e.path=n):n="".concat(c,".").concat(t),g.updateMeta(e,u,n,s,f)))))}else{var l=i._excludeProps;if(l&&O.default.expression.isExpression(l)&&(l=g.execExpression(l,u,c,s,f)),l&&l instanceof Array){for(var p=0;p<l.length;p++)i[l[p]]&&delete i[l[p]];delete i._excludeProps}for(var d=Object.keys(i),h,y,m=function t(){var e=i[y],n=(0,b.default)(e),r="".concat(c,".").concat(y);if(!e)return"continue";if("_vars"==y||"_extParas"==y)return"continue";var o=!1,a=!1;return"string"==n&&O.default.expression.isExpression(e)&&(o=!0,e=g.execExpression(e,u,r,s,f),"..."==y&&e&&"object"==(0,b.default)(e)?(Object.keys(e).forEach(function(t){i[t]=e[t]}),delete i["..."]):e&&!0===e._isMeta?(a=!0,i[y]=e.value):i[y]=e),g.needUpdate(e)?e._for||e._function?(e._vars=s,e._extParas=f,e.path="".concat(c,".").concat(y,".").concat(e._name),"continue"):o&&!a?"continue":e._name&&e.component?(e.path="".concat(c,".").concat(y,".").concat(e._name),g.updateMeta(e,u,"".concat(c,".").concat(y,".").concat(e._name),s,f),"continue"):e instanceof Array?(g.updateMeta(e,u,r,s,f),"continue"):void g.updateMeta(e,u,r,s,f):"continue"},h=0;y=d[h++];)var v=m()}}),(0,c.default)(this,"getMeta",function(t,e,n,r,o){var a=f.getMeta(g.appInfo,t,e,g.component.props.appQuery),i;return t=t||f.getMetaMap(g.appInfo,g.component.props.appQuery).keySeq().toList().find(function(t){return-1==t.indexOf(".")}),n=n||f.getField(g.injections.getState()),a._power=void 0,a._for=void 0,a._function=void 0,a.path=t,r&&(a._vars=r),g.updateMeta(a,n,t,r,o),a}),(0,c.default)(this,"gm",this.getMeta),(0,c.default)(this,"gs",this.getState),(0,c.default)(this,"ss",this.setState),(0,c.default)(this,"context",p.default),this.appInfo=e.appInfo,this.meta=(0,l.fromJS)(e.appInfo.view);var n=e.plugins;this.cache={},e.appInfo.viewByImmutable=this.meta,f.setMeta(e.appInfo,n)};e.default=y},function(r,t,e){var u=e(35),o=e(107);function a(t,e,n){return o()?r.exports=a=Reflect.construct:r.exports=a=function t(e,n,r){var o=[null];o.push.apply(o,n);var a,i=new(Function.bind.apply(e,o));return r&&u(i,r.prototype),i},a.apply(null,arguments)}r.exports=a},function(t,e,n){"use strict";var r=n(0),o=n(12);Object.defineProperty(e,"__esModule",{value:!0}),e.uid=f,e.setMeta=l,e.setMetaForce=p,e.getMeta=d,e.getMetaMap=h,e.getField=v,e.getFields=g,e.setField=b,e.setFields=O,e.updateField=_;var c=o(n(10)),u=o(n(4)),s=r(n(47)),a=(0,u.getGlobal)(),y=u.path.parsePath,m={meta:(0,c.Map)(),plugin:(0,c.Map)()};a.__getCache=function(){return m};var i={};function f(t){return i[t]?i[t]++:(i[t]=0,t+i[t]++)}function l(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length?arguments[2]:void 0,r;t&&t.view&&(r=t.name,m.meta.has(r)&&JSON.stringify(e.sort())===JSON.stringify(m.plugin.get(r).toJS().sort())||(m.plugin=m.plugin.set(r,(0,c.fromJS)(e)),p(r,t.viewByImmutable||t.view,n)))}function p(t,e,n){var r,o;t&&e&&(e=(r=w(e=x(e=c.default.isMap(e)||c.default.isList(e)?e:(0,c.fromJS)(e)),t)).meta,o=r.map,m.meta=n?m.meta.setIn([t,n,"meta"],e).setIn([t,n,"metaMap"],o):m.meta.setIn([t,"meta"],e).setIn([t,"metaMap"],o))}function d(t,e,n,r){var o=r&&m.meta.getIn([t.name,r,"meta"])||m.meta.getIn([t.name,"meta"]),a=r&&m.meta.getIn([t.name,r,"metaMap"])||m.meta.getIn([t.name,"metaMap"]);if(!e)return o.toJS();var i=y(e),u=i.vars,c=a.get(i.path),s=c?o.getIn(c.split(".")):o;if(!n)return s.toJS();var f={};if(n instanceof Array){for(var l,p,l=0;p=n[l++];){var d=s.getIn(p.split("."));f[p]=d&&d.toJS?d.toJS():d}return f}if("string"==typeof n){var h=s.getIn(n.split("."));return h&&h.toJS?h.toJS():h}}function h(t,e){return m.meta.getIn([t.name,e,"metaMap"])||m.meta.getIn([t.name,"metaMap"])}function v(t,e){var n;return e?(n=e instanceof Array?t.getIn(e):t.getIn(e.split(".")))&&n.toJS?n.toJS():n:(n=t.get("data"))&&n.toJS?n.toJS():n}function g(e,t){var n={};return t.forEach(function(t){return n[t]=v(e,t)}),n}function b(t,e,n){return e instanceof Array?t.setIn(e,n&&(0,c.fromJS)(n)):t.setIn(e.split("."),n&&(0,c.fromJS)(n))}function O(t,e){for(var n=Object.keys(e),r,o,r=0;o=n[r++];)t=b(t,o,e[o]);return t}function _(t,e,n){return e instanceof Array?t.updateIn(e,n):t.updateIn(e.split("."),n)}function x(o){var r=[],t;return function o(n,a){var t,e;n instanceof c.default.Map&&(n.get("component")&&(t=u.default.string.trim(n.get("component")),(e=s.default.getTemplate(t))&&r.unshift([a,e])),n.keySeq().toArray().forEach(function(r){var t=n.get(r),e;t instanceof c.default.List?t.forEach(function(t,e){var n=a?"".concat(a,".").concat(r,".").concat(e):"".concat(r,".").concat(e);o(t,n)}):(e=a?"".concat(a,".").concat(r):r,o(t,e))}))}(o,""),r.forEach(function(t){var e=t[0].split("."),n=""==e?(0,c.fromJS)(t[1](o.toJS())):(0,c.fromJS)(t[1](o.getIn(e).toJS())),r;o=n instanceof c.default.List&&o.getIn(e.slice(0,e.length-1))instanceof c.default.List?(r=e.pop(),o.updateIn(e,function(e){return e=e.remove(r),n.forEach(function(t){e=e.insert(r,t),r++}),e})):""==e?n:o.setIn(e,n)}),o}function j(r){var i=[],t;return function o(n,a){if(n instanceof c.default.Map){if(n.get("component")){var t=u.default.string.trim(n.get("component")),e=s.default.getTemplate(t);if(e)return void i.unshift([a,(0,c.fromJS)(e(n.toJS()))])}n.keySeq().toArray().forEach(function(r){var t=n.get(r),e;t instanceof c.default.List?t.forEach(function(t,e){var n=a?"".concat(a,".").concat(r,".").concat(e):"".concat(r,".").concat(e);o(t,n)}):(e=a?"".concat(a,".").concat(r):r,o(t,e))})}}(r,""),i.forEach(function(t){var e=t[0].split("."),n;r=t[1]instanceof c.default.List&&r.getIn(e.slice(0,e.length-1))instanceof c.default.List?(n=e.pop(),r.updateIn(e,function(e){return e=e.remove(n),t[1].forEach(function(t){e=e.insert(n,t),n++}),e})):""==e?t[1]:r.setIn(e,t[1])}),r}function w(e,r){var o=(0,c.Map)(),t;return function a(n,i,u){var t;n instanceof c.default.Map&&((n.get("component")||n.get("_for")||n.get("_function"))&&(t=f(r)+"",e=e.setIn(u?u.split(".").concat("_name"):["_name"],t),i=i?"".concat(i,".").concat(t):t,o=o.set(i,u)),n.keySeq().toArray().forEach(function(r){var t=n.get(r),o=i?"".concat(i,".").concat(r):r,e;t instanceof c.default.List?t.forEach(function(t,e){var n=u?"".concat(u,".").concat(r,".").concat(e):"".concat(r,".").concat(e);t&&t.get&&(t.get("component")||t.get("_for")||t.get("_function"))?a(t,"".concat(o),n):a(t,"".concat(o,".").concat(e),n)}):(e=u?"".concat(u,".").concat(r):r,a(t,"".concat(o),e))}))}(e,"",""),{meta:e,map:o}}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(6)),a=r(n(9));function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function t(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function t(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,i=!1,u;return{s:function t(){n=e[Symbol.iterator]()},n:function t(){var e=n.next();return a=e.done,e},e:function t(e){i=!0,u=e},f:function t(){try{a||null==n.return||n.return()}finally{if(i)throw u}}}}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s,f=new(function(){function t(){(0,o.default)(this,t),this.templates={}}return(0,a.default)(t,[{key:"getTemplates",value:function t(){return this.templates}},{key:"registerTemplate",value:function t(e,n){this.templates[e]?console.log("Template already exists. name: ".concat(e,",please ignore!")):this.templates[e]=n}},{key:"registerTemplates",value:function t(e){var n=this;e&&0!=e.length&&e.forEach(function(t){return n.registerTemplate(t.name,t.templateHandler)})}},{key:"getTemplate",value:function t(e){if(!e)throw"template name can not null";var n=e.split("."),r=n[0],o=this.templates[r];return o&&1<n.length&&(o=this.findChild(o,n)),o}},{key:"findChild",value:function t(e,n){var r=i(n.slice(1)),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;if(!e[a])return void(e=void 0);e=e[a]}}catch(t){r.e(t)}finally{r.f()}return e}}]),t}()),l;e.default=f},function(t,e,n){"use strict";var r=n(12),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=O;var a=o(n(11)),i=o(n(6)),u=o(n(9)),c=o(n(18)),s=o(n(19)),f=o(n(20)),l=r(n(2)),p=o(n(109)),d=o(n(8)),h=o(n(111)),y=o(n(27)),m=o(n(4));function v(o){var a=g();return function t(){var e=(0,f.default)(o),n,r,n;return n=a?(r=(0,f.default)(this).constructor,Reflect.construct(e,arguments,r)):e.apply(this,arguments),(0,s.default)(this,n)}}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function b(e,n){return function(){if(e[n])e[n].apply(e,arguments);else if(e.base&&e.base.getAllAction){var t=e.base.getAllAction()[n];if(t)return void t.apply(void 0,arguments)}}}function O(t){return function(t){var e=t;return function(t){(0,c.default)(r,t);var n=v(r);function r(t){var e;return(0,i.default)(this,r),(e=n.call(this,t)).state={hasError:!1},e}return(0,u.default)(r,[{key:"componentWillMount",value:function t(){b(this.props,"componentWillMount")()}},{key:"componentDidMount",value:function t(){this.props.initView&&this.props.initView(this),b(this.props,"componentDidMount")()}},{key:"shouldComponentUpdate",value:function t(e,n){return!(!this.props.shouldComponentUpdate||!0!==this.props.shouldComponentUpdate(e,n))||(!this.props.shouldComponentUpdate||!1!==this.props.shouldComponentUpdate(e,n))&&(n.hasError!=this.state.hasError||(0,p.default)(this,e,n))}},{key:"componentWillReceiveProps",value:function t(e){this.state.hasError&&this.setState({hasError:!1,error:void 0}),b(this.props,"componentWillReceiveProps")(e)}},{key:"componentWillUpdate",value:function t(e,n){b(this.props,"componentWillUpdate")(e,n)}},{key:"componentDidCatch",value:function t(e,n){m.default.exception.error(e),this.setState({hasError:!0,error:e}),b(this.props,"componentDidCatch")(e,n)}},{key:"componentWillUnmount",value:function t(){this.props.unmount&&this.props.unmount(),b(this.props,"componentWillUnmount")()}},{key:"componentDidUpdate",value:function t(){b(this.props,"componentDidUpdate")()}},{key:"render",value:function t(){return this.state.hasError?l.default.createElement("div",{style:{color:"red"}},this.state.error&&this.state.error.message):!0===this.props.notRender||!0===this.props._notRender||!e||!this.props.payload||!this.props.payload.get("data")||!0===this.props.payload.getIn(["data","_notRender"])?null:l.default.createElement(e,(0,a.default)({},this.props,{maka:h.default}))}}]),r}(l.Component)}}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(6)),a=r(n(9)),i=r(n(2));function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function t(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function t(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,i=!1,u;return{s:function t(){n=e[Symbol.iterator]()},n:function t(){var e=n.next();return a=e.done,e},e:function t(e){i=!0,u=e},f:function t(){try{a||null==n.return||n.return()}finally{if(i)throw u}}}}function c(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f,l=new(function(){function t(){(0,o.default)(this,t),this.components={},this.appComponents={}}return(0,a.default)(t,[{key:"getComponents",value:function t(){return this.components}},{key:"registerComponent",value:function t(e,n){this.components[e]?console.log("Component already exists. name: ".concat(e,",please ignore!")):this.components[e]=n}},{key:"registerComponents",value:function t(e){var n=this;e&&0!=e.length&&e.forEach(function(t){return n.registerComponent(t.name,t.component)})}},{key:"getComponent",value:function t(e){if(!e)throw"component name can not null";if("Fragment"===e)return i.default.Fragment;if("Suspense"===e)return i.default.Suspense;var n=e.split("."),r=n[0],o=this.components[r];return o&&1<n.length&&(o=this.findChild(o,n)),o||e}},{key:"findChild",value:function t(e,n){var r=u(n.slice(1)),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;if(!e[a])return void(e=void 0);e=e[a]}}catch(t){r.e(t)}finally{r.f()}return e}}]),t}()),p;e.default=l},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(6)),a=r(n(9)),i=n(113),u,c=new(function(){function t(){(0,o.default)(this,t),this.actions={}}return(0,a.default)(t,[{key:"getActions",value:function t(){return this.actions}},{key:"registerAction",value:function t(e,n,r){this.actions[e]?console.log("Action already exists. name: ".concat(e,", please ignore!")):(r&&(n._isFunction=!0),this.actions[e]=n)}},{key:"registerActions",value:function t(e){var n=this;e&&0!=e.length&&e.forEach(function(t){return n.registerAction(t.name,t.action,t.isFunction)})}},{key:"getAction",value:function t(e){if(!e)throw"Action name cannot be empty";var n=this.actions[e];if(!n)throw"Can't find action,name:".concat(e);return n}},{key:"asyncGetAction",value:function t(r){var o=this;if(!r)throw"Action name cannot be empty";return new Promise(function(e,t){var n;(function t(){setTimeout(function(){o.actions[r]?e(o.actions[r]):t()},0)})()})}}]),t}()),s;e.default=c},function(t,e,n){t.exports=n(52)},function(t,e,n){"use strict";n.r(e),n.d(e,"init",function(){return $}),n.d(e,"config",function(){return z}),n.d(e,"load",function(){return V}),n.d(e,"getComponent",function(){return A}),n.d(e,"getTemplate",function(){return k}),n.d(e,"getAction",function(){return E}),n.d(e,"asyncGetAction",function(){return S}),n.d(e,"registerComponent",function(){return M}),n.d(e,"registerAction",function(){return F}),n.d(e,"registerTemplate",function(){return I}),n.d(e,"removeApp",function(){return T}),n.d(e,"registerPlugin",function(){return D}),n.d(e,"removePlugin",function(){return R}),n.d(e,"actionMixin",function(){return C}),n.d(e,"appInstances",function(){return N}),n.d(e,"setHoc",function(){return Y}),n.d(e,"fetch",function(){return U}),n.d(e,"navigate",function(){return L}),n.d(e,"createElement",function(){return P}),n.d(e,"createAppElement",function(){return X}),n.d(e,"render",function(){return Z}),n.d(e,"appFactory",function(){return W}),n.d(e,"pluginFactory",function(){return J}),n.d(e,"actionFactory",function(){return H}),n.d(e,"componentFactory",function(){return B}),n.d(e,"templateFactory",function(){return q}),n.d(e,"store",function(){return x}),n.d(e,"context",function(){return G});var r=n(14),c=n.n(r),o=n(11),s=n.n(o),a=n(17),i=n.n(a),u=n(2),f=n.n(u),l=n(8),p=n.n(l),d=n(7),h=n.n(d),y=n(3),m=n.n(y);n.d(e,"appLoader",function(){return m.a});var v=n(4),g=n.n(v);n.d(e,"utils",function(){return g.a});var b=n(1),O=n.n(b);n.d(e,"metaEngine",function(){return O.a});var _=g.a.getGlobal();_.self=_,g.a.fetch.config({mock:!0});var x=m.a.init({defaultComponent:O.a.defaultComponent,defaultAction:O.a.defaultAction,defaultReducer:O.a.defaultReducer,componentWrapper:O.a.wrapper});O.a.componentFactory.registerComponent("AppLoader",m.a.AppLoader);var j,w=!0,P=f.a.createElement,A=O.a.componentFactory.getComponent.bind(O.a.componentFactory),k=O.a.templateFactory.getTemplate.bind(O.a.templateFactory),E=O.a.actionFactory.getAction.bind(O.a.actionFactory),S=O.a.actionFactory.asyncGetAction.bind(O.a.actionFactory),M=O.a.componentFactory.registerComponent.bind(O.a.componentFactory),F=O.a.actionFactory.registerAction.bind(O.a.actionFactory),I=O.a.templateFactory.registerTemplate.bind(O.a.templateFactory),T=m.a.removeApp,D=m.a.registerPlugin.bind(m.a.pluginFactory),R=m.a.removePlugin.bind(m.a.pluginFactory),C=O.a.actionMixin,U=g.a.fetch,L=g.a.navigate,N=O.a.appInstances,H=O.a.actionFactory,B=O.a.componentFactory,q=O.a.templateFactory,J=m.a.pluginFactory,W=m.a.appFactory,G=O.a.contextManager;function $(t){m.a.init(t)}function z(t){O.a.config(t)}function V(t){return K.apply(this,arguments)}function K(){return(K=i()(c.a.mark(function t(n){return c.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.loadApp(n,w);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)}))).apply(this,arguments)}var Q=function t(e,n){return function(t){return f.a.createElement(d.Provider,{store:x},f.a.createElement(m.a.AppLoader,s()({name:e},n,t)))}};function X(t,e){var n=Q(t,e);return j?f.a.createElement(j,null,f.a.createElement(n,null)):f.a.createElement(n,null)}function Y(t){j=t}function Z(t,e,n){return tt.apply(this,arguments)}function tt(){return(tt=i()(c.a.mark(function t(n,r,o){var a,i,u=arguments;return c.a.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:if(a=3<u.length&&void 0!==u[3]?u[3]:{},i=n.split("?")[0],m.a.existsApp(i)){e.next=5;break}return e.next=5,m.a.loadApp(i,w);case 5:if(o)return j?Object(l.render)(f.a.createElement(j,null,f.a.createElement(d.Provider,{store:x},f.a.createElement(m.a.AppLoader,s()({name:n},a)))),document.getElementById(r)):Object(l.render)(f.a.createElement(d.Provider,{store:x},f.a.createElement(m.a.AppLoader,s()({name:n},a))),document.getElementById(r)),e.abrupt("return");e.next=8;break;case 8:j?Object(l.render)(f.a.createElement(j,null,f.a.createElement(d.Provider,{store:x},f.a.createElement(O.a.rootElement,s()({appName:n},a)))),document.getElementById(r)):Object(l.render)(f.a.createElement(d.Provider,{store:x},f.a.createElement(O.a.rootElement,s()({appName:n},a))),document.getElementById(r));case 9:case"end":return e.stop()}},t)}))).apply(this,arguments)}e.default={appLoader:m.a,utils:g.a,metaEngine:O.a,init:$,config:z,load:V,getComponent:A,getTemplate:k,getAction:E,asyncGetAction:S,registerComponent:M,registerAction:F,registerTemplate:I,removeApp:T,registerPlugin:D,removePlugin:R,actionMixin:C,appInstances:N,setHoc:Y,fetch:U,navigate:L,createElement:P,createAppElement:X,render:Z,appFactory:W,pluginFactory:J,actionFactory:H,componentFactory:B,templateFactory:q,store:x,context:G}},function(t,e,n){var r=function(i){"use strict";var t=Object.prototype,f=t.hasOwnProperty,c,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function u(t,e,n,r){var o=e&&e.prototype instanceof s?e:s,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=w(t,n,i),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",m={};function s(){}function a(){}function v(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,O=b&&b(b(S([])));O&&O!==t&&f.call(O,o)&&(g=O);var _=v.prototype=s.prototype=Object.create(g);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function j(u,c){function s(t,e,n,r){var o=l(u[t],u,e);if("throw"!==o.type){var a=o.arg,i=a.value;return i&&"object"==typeof i&&f.call(i,"__await")?c.resolve(i.__await).then(function(t){s("next",t,n,r)},function(t){s("throw",t,n,r)}):c.resolve(i).then(function(t){a.value=t,n(a)},function(t){return s("throw",t,n,r)})}r(o.arg)}var e;function t(n,r){function t(){return new c(function(t,e){s(n,r,t,e)})}return e=e?e.then(t,t):t()}this._invoke=t}function w(i,u,c){var s=p;return function t(e,n){if(s===h)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw n;return M()}for(c.method=e,c.arg=n;;){var r=c.delegate;if(r){var o=P(r,c);if(o){if(o===m)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===p)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=h;var a=l(i,u,c);if("normal"===a.type){if(s=c.done?y:d,a.arg===m)continue;return{value:a.arg,done:c.done}}"throw"===a.type&&(s=y,c.method="throw",c.arg=a.arg)}}}function P(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,P(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(f.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:M}}function M(){return{value:c,done:!0}}return(a.prototype=_.constructor=v).constructor=a,v[r]=a.displayName="GeneratorFunction",i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(_),t},i.awrap=function(t){return{__await:t}},x(j.prototype),j.prototype[n]=function(){return this},i.AsyncIterator=j,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new j(u(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(_),_[r]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},i.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&f.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t,e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=f.call(o,"catchLoc"),u=f.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&f.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion,o;return"throw"===r.type&&(o=r.arg,k(n)),o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),m}},i}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var i=n(55);function r(t,e){if(null==t)return{};var n=i(t,e),r,o;if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),o=0;o<a.length;o++)r=a[o],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r]);return n}t.exports=r},function(t,e){function n(t,e){if(null==t)return{};for(var n={},r=Object.keys(t),o,a,a=0;a<r.length;a++)o=r[a],0<=e.indexOf(o)||(n[o]=t[o]);return n}t.exports=n},function(t,e,n){"use strict";function r(t,e){return{type:"@@loadApp",payload:{fullName:t,prevFullName:e}}}function o(t){return{type:"@@clearAppState",payload:{fullName:t}}}function a(t,e){return{type:"@@loadPlugin",payload:{fullName:t,prevFullName:e}}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadApp=r,e.clearAppState=o,e.loadPlugin=a},function(t,e){t.exports=u},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.config=f,e.get=h,e.post=y,e.formPost=m,e.test=v,e.mock=l,e.isMockUrl=p,e.getAccessToken=O,e.setAccessToken=_,e.clearAccessToken=x,e.mockApi=e.mockData=e.default=void 0;var c=r(n(59)),a=r(n(13)),o=n(37),s={};e.mockApi=s;var i={};e.mockData=i;var u={store:localStorage};function f(t){Object.assign(u,t),t.token&&_(t.token)}function l(e,n){var r,o;e&&"object"==(0,a.default)(e)?Object.keys(e).forEach(function(t){l(t,e[t])}):-1!=e.indexOf("*")?(r=e.split("*"),o=r.shift(),Object.keys(n).forEach(function(t){var e;l(o+t+r.join("*"),n[t])})):s[e]=n}function p(e){return u.excludeMockUrls&&u.excludeMockUrls.find(function(t){return t===e||!(!t.test||!t.test(e))})?!u.mock:u.mock}function d(t){return u.prefix?"".concat(u.prefix).concat(t):t}function h(o,a,t){if(t&&!0===t.ignoreAOP||g(),p(o))return new Promise(function(n,r){setTimeout(function(){try{O()&&(a=a?(0,c.default)({},a,{token:O()}):{token:O()});var e=s[o](a);if(e.then&&e.catch)return e.then(function(t){return e=b(e,o,void 0,a),n(e)}).catch(r),e;t&&!0===t.ignoreAOP||(e=b(e,o,void 0,a)),n(e)}catch(t){r(t)}},0)});var r=a={method:"GET",credentials:"same-origin",headers:(0,c.default)({Accept:"application/json","Content-Type":"application/json"},a,{token:O(),Authorization:O()?"Bearer "+O():""})};return t&&t.token&&(r.headers.token=t.token,r.headers.Authorization="Bearer "+t.token),new Promise(function(e,n){fetch(d(o),r).then(function(o){var t={},e=o.headers.get("Content-Type"),e;return"application/json"==(e=e&&e.split(";")[0])?t=o.json():"application/octet-stream"==e&&o.blob().then(function(t){var e=document.createElement("a"),n=window.URL.createObjectURL(t),r,r=(r=o.headers.get("Content-Disposition")).split("name=")[1].split(";")[0];e.href=n,e.download=r,e.click(),window.URL.revokeObjectURL(n)}),t}).then(function(t){t=b(t,o,void 0,r),e(t)}).catch(function(t){return n(t)})})}function y(o,a,i,u){if(i=i||{},u=u||{},a&&a._option&&(u=Object.assign(u,a._option),delete a._option),a&&a._headers&&(i=Object.assign(i,a._headers),delete a._headers),u&&!0===u.ignoreAOP||g(o,a,i),p(o))return new Promise(function(n,r){setTimeout(function(){try{O()&&(i=i?(0,c.default)({},i,{token:O()}):{token:O()});var t=s[o];if(!t||"function"!=typeof t)throw o+":handler is invalid";var e=t(a,i);if(e.then&&e.catch)return e.then(function(t){return t=b(t,o,a,i),n(t)}).catch(r),e;u&&!0===u.ignoreAOP||(e=b(e,o,a,i)),n(e)}catch(t){r(t)}},0)});var r={method:"POST",credentials:"same-origin",headers:(0,c.default)({Accept:"application/json","Content-Type":"application/json"},i,{token:O(),Authorization:O()?"Bearer "+O():""}),body:JSON.stringify(a)};return u&&"file"==u.type&&(r.body=u.body,delete r.headers["Content-Type"]),u&&u.token&&(r.headers.token=u.token,r.headers.Authorization="Bearer "+u.token),u&&u.signal&&(r.signal=u.signal),new Promise(function(e,n){fetch(d(o),r).then(function(o){var t={},e=o.headers.get("Content-Type").split(";")[0],n=o.headers.get("Content-Disposition");return"application/json"==e?t=o.json():null!=n&&o.blob().then(function(t){var e=document.createElement("a"),n=window.URL.createObjectURL(t),r,r=(r=o.headers.get("Content-Disposition")).split("name=")[1].split(";")[0];e.href=n,e.download=decodeURI(r),e.click(),window.URL.revokeObjectURL(n)}),t}).then(function(t){t=b(t,o,a,r),e(t)}).catch(function(t){return n(t)})})}function m(t,e,n){e=e||{};var r=O();r&&!n&&(e.token=r);var o=document.createElement("form");o.method="post",o.action=t,o.target="_blank";for(var a,i=0,u=Object.keys(e);i<u.length;i++){var c=u[i],s=document.createElement("input");s.setAttribute("name",c),s.setAttribute("value",e[c]),o.appendChild(s)}document.body.appendChild(o),o.submit(),document.body.removeChild(o)}function v(t,e,n){return new Promise(function(t,e){setTimeout(function(){t(n)},0)})}function g(t,e,n){u.before&&u.before(t,e,n)}function b(t,e,n,r){return u.after?u.after(t,e,n,r):t}function O(){return u.store._accessToken||""}function _(t){u.store._accessToken=t}function x(){u.store._accessToken=""}(0,o.getGlobal)().self=(0,o.getGlobal)(),n(60);var j={config:f,get:h,post:y,formPost:m,test:v,mockData:i,mock:l,mockApi:s,isMockUrl:p,getAccessToken:O,setAccessToken:_,clearAccessToken:x};e.default=j},function(t,e,n){var o=n(5);function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}t.exports=r},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",function(){return f}),n.d(e,"Request",function(){return O}),n.d(e,"Response",function(){return j}),n.d(e,"DOMException",function(){return P}),n.d(e,"fetch",function(){return A});var c={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},r,o;function a(t){return t&&DataView.prototype.isPrototypeOf(t)}function i(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return c.iterable&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function d(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function h(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}function y(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:c.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:c.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c.arrayBuffer&&c.blob&&a(t)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}c.arrayBuffer&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&-1<r.indexOf(Object.prototype.toString.call(t))}),f.prototype.append=function(t,e){t=i(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[i(t)]},f.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},f.prototype.set=function(t,e){this.map[i(t)]=u(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),s(n)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),s(e)},f.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),s(n)},c.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t){var e=t.toUpperCase();return-1<g.indexOf(e)?e:t}function O(t,e){var n=(e=e||{}).body;if(t instanceof O){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=b(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _(t){var o=new FormData;return t.trim().split("&").forEach(function(t){var e,n,r;t&&(n=(e=t.split("=")).shift().replace(/\+/g," "),r=e.join("=").replace(/\+/g," "),o.append(decodeURIComponent(n),decodeURIComponent(r)))}),o}function x(t){var o=new f,e;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),n=e.shift().trim(),r;n&&(r=e.join(":").trim(),o.append(n,r))}),o}function j(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},v.call(O.prototype),v.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},j.error=function(){var t=new j(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];j.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new j(null,{status:e,headers:{location:t}})};var P=self.DOMException;try{new P}catch(t){(P=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),P.prototype.constructor=P}function A(i,u){return new Promise(function(n,t){var e=new O(i,u);if(e.signal&&e.signal.aborted)return t(new P("Aborted","AbortError"));var r=new XMLHttpRequest;function o(){r.abort()}function a(e){try{return""===e&&self.location.href?self.location.href:e}catch(t){return e}}r.onload=function(){var t={status:r.status,statusText:r.statusText,headers:x(r.getAllResponseHeaders()||"")};t.url="responseURL"in r?r.responseURL:t.headers.get("X-Request-URL");var e="response"in r?r.response:r.responseText;setTimeout(function(){n(new j(e,t))},0)},r.onerror=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},r.ontimeout=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},r.onabort=function(){setTimeout(function(){t(new P("Aborted","AbortError"))},0)},r.open(e.method,a(e.url),!0),"include"===e.credentials?r.withCredentials=!0:"omit"===e.credentials&&(r.withCredentials=!1),"responseType"in r&&(c.blob?r.responseType="blob":c.arrayBuffer&&e.headers.get("Content-Type")&&-1!==e.headers.get("Content-Type").indexOf("application/octet-stream")&&(r.responseType="arraybuffer")),e.headers.forEach(function(t,e){r.setRequestHeader(e,t)}),e.signal&&(e.signal.addEventListener("abort",o),r.onreadystatechange=function(){4===r.readyState&&e.signal.removeEventListener("abort",o)}),r.send(void 0===e._bodyInit?null:e._bodyInit)})}A.polyfill=!0,self.fetch||(self.fetch=A,self.Headers=f,self.Request=O,self.Response=j)},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parsePath=e.existsParamsInPath=void 0;var o=r(n(30)),a=function t(e){return/,/.test(e)};e.existsParamsInPath=a;var i=(0,o.default)(function(t){if(t){if(-1==t.indexOf(","))return{path:t.replace(/\s/g,"")};var e=t.split(","),n=e.slice(1);return{path:e[0].replace(/\s/g,""),vars:n.map(function(t){return t.replace(/\s/g,"")})}}}),u={existsParamsInPath:a,parsePath:e.parsePath=i};e.default=u},function(t,e,n){var r=n(63),o=n(88),a=n(90),i=n(91),u=n(92);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(64),o=n(80),a=n(87);function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}t.exports=i},function(t,e,n){var r=n(65),o=n(76),a=n(77),i=n(78),u=n(79);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(22);function o(){this.__data__=r?r(null):{},this.size=0}t.exports=o},function(t,e,n){var r=n(67),o=n(72),a=n(41),i=n(74),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,s=Function.prototype,f=Object.prototype,l=s.toString,p=f.hasOwnProperty,d=RegExp("^"+l.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(t){return!(!a(t)||o(t))&&(r(t)?d:c).test(i(t));var e}t.exports=h},function(t,e,n){var r=n(68),o=n(41),a="[object AsyncFunction]",i="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";function s(t){if(!o(t))return!1;var e=r(t);return e==i||e==u||e==a||e==c}t.exports=s},function(t,e,n){var r=n(40),o=n(70),a=n(71),i="[object Null]",u="[object Undefined]",c=r?r.toStringTag:void 0;function s(t){return null==t?void 0===t?u:i:(c&&c in Object(t)?o:a)(t)}t.exports=s},function(n,t,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(this,e(38))},function(t,e,n){var r=n(40),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,u=r?r.toStringTag:void 0;function c(t){var e=a.call(t,u),n=t[u];try{var r=!(t[u]=void 0)}catch(t){}var o=i.call(t);return r&&(e?t[u]=n:delete t[u]),o}t.exports=c},function(t,e){var n,r=Object.prototype.toString;function o(t){return r.call(t)}t.exports=o},function(t,e,n){var r=n(73),o=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",a;function i(t){return!!o&&o in t}t.exports=i},function(t,e,n){var r,o=n(31)["__core-js_shared__"];t.exports=o},function(t,e){var n,r=Function.prototype.toString;function o(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}t.exports=o},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){var r=n(22),o="__lodash_hash_undefined__",a,i=Object.prototype.hasOwnProperty;function u(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}t.exports=u},function(t,e,n){var r=n(22),o,a=Object.prototype.hasOwnProperty;function i(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}t.exports=i},function(t,e,n){var r=n(22),o="__lodash_hash_undefined__";function a(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}t.exports=a},function(t,e,n){var r=n(81),o=n(82),a=n(84),i=n(85),u=n(86);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=u,t.exports=c},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){var o=n(23),r,a=Array.prototype.splice;function i(t){var e=this.__data__,n=o(e,t),r;return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}t.exports=i},function(t,e){function n(t,e){return t===e||t!=t&&e!=e}t.exports=n},function(t,e,n){var r=n(23);function o(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}t.exports=o},function(t,e,n){var r=n(23);function o(t){return-1<r(this.__data__,t)}t.exports=o},function(t,e,n){var o=n(23);function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}t.exports=r},function(t,e,n){var r,o,a=n(39)(n(31),"Map");t.exports=a},function(t,e,n){var r=n(24);function o(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}t.exports=o},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){var r=n(24);function o(t){return r(this,t).get(t)}t.exports=o},function(t,e,n){var r=n(24);function o(t){return r(this,t).has(t)}t.exports=o},function(t,e,n){var o=n(24);function r(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}t.exports=r},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getExpressionBody=e.isExpression=void 0;var o=r(n(30)),a=/^\s*\{{2}([\s\S]+)\}{2}\s*$/m,i=/^\s*\{{3}([\s\S]+)\}{3}\s*$/m,u=(0,o.default)(function(t){return a.test(t)||i.test(t)});e.isExpression=u;var c=(0,o.default)(function(t){return i.test(t)?t.replace(i,function(t,e){return e}):a.test(t)?"return "+t.replace(a,function(t,e){return e}):t}),s={isExpression:u,getExpressionBody:e.getExpressionBody=c};e.default=s},function(t,e,n){"use strict";function r(t){return t.replace(/(^\s*)/g,"")}function o(t){return t.replace(/(\s*$)/g,"")}function a(t){return t.replace(/(^\s*)|(\s*$)/g,"")}function i(t){return new Function("return "+t)()}Object.defineProperty(e,"__esModule",{value:!0}),e.trimLeft=r,e.trimRight=o,e.trim=a,e.toJson=i,e.default=void 0;var u={trimLeft:r,trimRight:o,trim:a,toJson:i};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.error=o,e.clear=a,e.getExceptions=i,e.default=void 0;var r=[];function o(t){console.error(t),r.unshift(t)}function a(){r.splice(0,r.length)}function i(){return r}var u={error:o,clear:a,getExceptions:i};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listen=u,e.unlisten=c,e.goBack=s,e.redirect=f,e.getLocation=l,e.default=void 0;var r=n(117).createHashHistory,o,a=[];function i(){o=o||r()}function u(e){i();var t=a.find(function(t){return t.listen==e}),n;t||(t=e,n=o.listen(e),a.push({listen:t,unlisten:n}))}function c(e){var t=a.findIndex(function(t){return t.listen==e});-1!=t&&(a[t].unlisten(),a.splice(t,1))}function s(){o&&o.goBack()}function f(t){o&&location.hash!=="#".concat(t)&&o&&o.push(t)}function l(){return o&&o.location}var p={listen:u,unlisten:c,goBack:s,redirect:f,getLocation:l};e.default=p},function(t,e,n){var r=n(42);function o(t){if(Array.isArray(t))return r(t)}t.exports=o},function(t,e){function n(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}t.exports=n},function(t,e,n){var r=n(42);function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=o},function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(n(25)),a=n(10);function i(t){var e=(0,o.default)(t);return function(t){return{appName:e.name,appFullName:e.fullName,appQuery:e.query,appParams:e.params,payload:t.get(e.fullName)}}}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(n(5)),s=n(21),f=r(n(25));function a(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t,e,n){for(var r=(0,f.default)(t),o={},a=Object.keys(e),i=0;i<a.length;i++){var u=a[i],c;"directFuns"!==u&&(c=p(e[u],n,r.fullName,r.name,r.query,r.params),o[u]=c)}return function(t){return l(l({},(0,s.bindActionCreators)(o,t)),e.getDirectFuns&&e.getDirectFuns(r)||{})}}function p(r,o,a,i,u,c){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){return{fullName:a,name:i,query:u,params:c,actionCreator:r,reducer:o,args:e}}}}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(n(2)),a=n(7);function i(t,e,n,r,o){return(0,a.connect)(e,n,r,o)(t)}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var o=r(n(26)),a=r(n(2)),i=n(8),u=n(21),c=n(7),s=n(10),f=r(n(28)),l=r(n(32)),p=r(n(33)),d=r(n(16)),h=r(n(15)),y,m=(0,n(4).getGlobal)();function v(){var t=d.default.current;h.default.registerApps(t.apps);var e=[(0,l.default)(t.actionInjections||{},t.reducerInjections||{})];t.middlewares&&(e=e.concat(t.middlewares));var n=(0,u.createStore)(p.default,(0,s.Map)(),u.applyMiddleware.apply(void 0,(0,o.default)(e)));m.reduxStore=n,m.__maka_store__=n,t.rootWrapper||(t.rootWrapper=function(t){return t}),(0,i.render)(t.rootWrapper(a.default.createElement(c.Provider,{store:n},a.default.createElement(f.default,{name:t.startAppName}))),document.getElementById(t.targetDomId))}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var o=r(n(26)),a=r(n(2)),i=n(8),u=n(21),c=n(7),s=n(10),f=r(n(28)),l=r(n(32)),p=r(n(33)),d=r(n(16)),h=r(n(15)),y,m=(0,n(4).getGlobal)();function v(t){(0,d.default)(t);var e=d.default.current;e.apps&&h.default.registerApps(e.apps);var n=[(0,l.default)(e.actionInjections||{},e.reducerInjections||{})];e.middlewares&&(n=n.concat(e.middlewares));var r=(0,u.createStore)(p.default,(0,s.Map)(),u.applyMiddleware.apply(void 0,(0,o.default)(n)));return m.reduxStore=r,m.__maka_store__=r}},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var o=r(n(15)),a,i=(0,n(4).getGlobal)(),u=!0;function c(){for(var t=document.querySelectorAll("script"),e="",n=0;n<t.length;n++)t[n]&&t[n].src&&(-1!=t[n].src.indexOf("css.min.js")||-1!=t[n].src.indexOf("css.js"))&&(e=t[n].src);return e}function s(t){for(var e=document.querySelectorAll("link"),n=0;n<e.length;n++){var r=e[n].href;e[n]&&e[n].href&&(-1!=e[n].href.indexOf("/"+t+".css")||-1!=e[n].href.indexOf("/"+t+".min.css"))&&(e[n].parentNode.removeChild(e[n]),i.require.undef(c()+"!"+e[n].href.replace(".css","")))}}function f(t){for(var e=document.querySelectorAll("script"),n=0;n<e.length;n++)e[n]&&e[n].src&&(-1!=e[n].src.indexOf("/"+t+".js")||-1!=e[n].src.indexOf("/"+t+".min.js"))&&(e[n].parentNode.removeChild(e[n]),i.require.undef(e[n].src))}function l(t){s(t),o.default.removeApp(t),f(t)}function p(t){var e=o.default.getApp(t);e&&e.beforeRemove?e.beforeRemove().then(function(){l(t)}):l(t)}},function(t,e){function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}t.exports=n},function(t,e,n){"use strict";var r=n(12),o=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var a=o(n(6)),i=o(n(5)),u=r(n(10)),c=o(n(34)),s=r(n(46)),f=function t(e){var o=this;(0,a.default)(this,t),(0,i.default)(this,"init",function(t,e){var n=e.data,r=void 0===n?{}:n;return o.initByImmutable(t,{data:u.default.fromJS(r)})}),(0,i.default)(this,"initByImmutable",function(e,t){var n=t.data,r=[];return e.mapKeys(function(t){-1===t.indexOf("@@")&&r.push(t)}),r.forEach(function(t){e=e.remove(t)}),e.set("data",n)}),(0,i.default)(this,"getMeta",s.getMeta),(0,i.default)(this,"getField",s.getField),(0,i.default)(this,"getFields",s.getFields),(0,i.default)(this,"setField",s.setField),(0,i.default)(this,"setFields",s.setFields),(0,i.default)(this,"gm",s.getMeta),(0,i.default)(this,"gf",s.getField),(0,i.default)(this,"gfs",s.getFields),(0,i.default)(this,"sf",s.setField),(0,i.default)(this,"sfs",s.setFields),(0,i.default)(this,"context",c.default),this.appInfo=e.appInfo};function l(t){return new f(t)}},function(t,e,n){"use strict";var r=n(110);function o(t,e,n){return!r(t.props,e)||!r(t.state,n)}t.exports=o},function(t,e,n){"use strict";var a=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function r(t,e){if(i(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!a.call(e,n[o])||!i(t[n[o]],e[n[o]]))return!1;return!0}t.exports=r},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var x=r(n(45)),j=r(n(13)),w=r(n(2)),P=r(n(49)),o=r(n(30)),A=r(n(4)),k=r(n(27));function E(i,u,c){var s={};return Object.keys(i).forEach(function(t){var e=i[t],n=(0,j.default)(e),r,o,a;if(e instanceof Array)for(s[t]=[],r=0;o=e[r++];){o instanceof Array?s[t]=o:(a=S(o,u,c))instanceof Array?s[t]=s[t].concat(a):s[t].push(a)}else"object"==n?e&&e._notParse?(delete e._notParse,s[t]=e):s[t]=S(e,u,c):s[t]=e}),s}var a=(0,o.default)(function(t){return new Function(t)});function S(a,i,u){if(!a)return a;var t=(0,j.default)(a);if("object"==t&&a.$$typeof)return a;if("object"==t&&a._isAMomentObject)return a;if("object"==t&&a instanceof Date)return a;if("object"==t&&a instanceof Promise)return a;if("object"!=t)return a;if(a.component||a._for||a._function){if(!1===a._visible)return null;if("function"==typeof a._visible&&!1===a._visible())return null;if("function"==typeof a.component&&(a.component=a.component()),a._for){var e=a._for,n=["data","$props$"],r=[u,i],o;a._vars&&(n.push("_vars"),r.push(a._vars)),!a._extParas||(o=Object.keys(a._extParas))&&0<o.length&&o.forEach(function(t){n.push(t),r.push(a._extParas[t])});var c=e.replace(/\b(in)\b/,"#").split("#"),s=A.default.string.trim(c[1]),f=c[0].replace("(","").replace(")","").split(","),l="".concat(s.replace(/\$/g,"$props$."));k.default.current.transformer&&(l=k.default.current.transformer(l));var p=(0,x.default)(Function,n.concat(["return ".concat(s.replace(/\$/g,"$props$."))])).apply(null,r);if(!p||0==p.length)return;return p.map(function(t,e){var n,n=(n=a._vars)?","+e:e+"",r=a._extParas||{};r[A.default.string.trim(f[0])]=t,1<f.length&&(r[A.default.string.trim(f[1])]=e);var o=i.base.gm(a.path,void 0,u,n,r);return delete o._for,S(o,i,u)})}if(void 0!==a._function){var d=a._function.replace("(","").replace(")","");return function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=a._extParas||{};d.split(",").forEach(function(t,e){r[A.default.string.trim(t)]=n[e]});var o=i.base.gm(a.path,void 0,u,a._vars,r);return o._function=void 0,o._firstReturn?o._firstReturn:S(o,i,u)}}var h=a._decorator,y=a.component,m=P.default.getComponent(y),v=E(a,i,u),g;if(v.key||(g=a._vars||"",v.key=g?a.path+","+g:a.path),delete v.component,delete v._name,delete v.path,delete v._decorator,"AppLoader"!=y)return h?h(w.default.createElement(m,v)):w.default.createElement(m,v);for(var b=Object.keys(i),O,_,O=0;_=b[O++];)null==v[_]&&(v[_]=i[_]);return(delete v.clearAppState,delete v.getDirectFuns,delete v.initView,delete v.payload,delete v.componentWillMount,delete v.componentDidMount,delete v.shouldComponentUpdate,delete v.componentWillReceiveProps,delete v.componentWillUpdate,delete v.componentDidCatch,delete v.componentWillUnmount,delete v.componentDidUpdate,delete v.unmount,v.appName)?(v.key=v.appName,v.name=v.appName,w.default.createElement(m,v)):null}return E(a,i,u)}var i=function t(e){var n=e.base,r=n.gs();return r?S(n.gm(void 0,void 0,r),e,r):null},u;e.default=i},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=r(n(5)),c=r(n(13)),s=r(n(44)),f=r(n(50));function a(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=function t(e){return!!e&&("object"===(0,c.default)(e)||"function"==typeof e)&&"function"==typeof e.then},d=function t(u,c){var e=function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=c.getAllAction()||this,a=u._before&&u._before.apply(o,r);if(!1!==a&&!p(a)){if("function"==typeof a)return a;var i=u.apply(o,r);return p(i)?new Promise(function(e,n){i.then(function(t){u._after&&(t=u._after.apply(o,(r||[]).concat(i))),e(t)}).catch(function(t){return n(t)})}):u._after?u._after.apply(o,(r||[]).concat(i)):i}};return e.before=function(t){u._before=t},e.after=function(t){u._after=t},e.real=u,e};function i(){for(var t=arguments.length,u=new Array(t),e=0;e<t;e++)u[e]=arguments[e];return function(i){return function(r){var e={},o={},n=new s.default(r);Object.keys(n).forEach(function(t){"function"==typeof n[t]&&"getAllAction"!=t&&(n[t]=d(n[t],n))}),o.base=n,u&&0<u.length&&u.forEach(function(t){var e,n;"base"!=t&&("string"==typeof t?(e=f.default.getAction(t),"object"==(0,c.default)(e)?o[t]=e:"function"==typeof e&&(e._isFunction?o[t]=e:(n=new e(l(l({},r),{},{mixins:o})))&&(o[t]=n))):"object"==(0,c.default)(t)&&t.name&&(e=f.default.getAction(t.name),"object"==(0,c.default)(e)?o[t]=e:"function"==typeof e&&(e._isFunction?o[t]=e:(n=new e(l(l(l({},r),t.option),{},{mixins:o})))&&(o[t.name]=n))))});var a=new i(l(l({},r),{},{mixins:o}));Object.keys(a).forEach(function(t){"function"==typeof a[t]&&(a[t]=d(a[t],n))});var e=a;Object.keys(o).forEach(function(t){return e[t]=o[t]});var t={getDirectFuns:function t(){return e}};return t.initView=e.base.initView,n.config({metaHandlers:e}),t}}}},function(t,s,e){(function(o){function a(t,e){for(var n=0,r=t.length-1;0<=r;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;)t.unshift("..");return t}function r(t){"string"!=typeof t&&(t+="");for(var e=0,n=-1,r=!0,o,o=t.length-1;0<=o;--o)if(47===t.charCodeAt(o)){if(!r){e=o+1;break}}else-1===n&&(r=!1,n=o+1);return-1===n?"":t.slice(e,n)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}s.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var r=0<=n?arguments[n]:o.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=a(i(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},s.normalize=function(t){var e=s.isAbsolute(t),n="/"===u(t,-1);return(t=a(i(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},s.isAbsolute=function(t){return"/"===t.charAt(0)},s.join=function(){var t=Array.prototype.slice.call(arguments,0);return s.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},s.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=s.resolve(t).substr(1),e=s.resolve(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),a=Math.min(r.length,o.length),i=a,u=0;u<a;u++)if(r[u]!==o[u]){i=u;break}for(var c=[],u=i;u<r.length;u++)c.push("..");return(c=c.concat(o.slice(i))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,o=!0,a=t.length-1;1<=a;--a)if(47===(e=t.charCodeAt(a))){if(!o){r=a;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},s.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},s.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,o=!0,a=0,i=t.length-1;0<=i;--i){var u=t.charCodeAt(i);if(47===u){if(o)continue;n=i+1;break}-1===r&&(o=!1,r=i+1),46===u?-1===e?e=i:1!==a&&(a=1):-1!==e&&(a=-1)}return-1===e||-1===r||0===a||1===a&&e===r-1&&e===n+1?"":t.slice(e,r)};var u="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,e(114))},function(t,e){var n=t.exports={},r,o;function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(t){o=i}}();var s=[],f=!1,l,p=-1;function d(){f&&l&&(f=!1,l.length?s=l.concat(s):p=-1,s.length&&h())}function h(){if(!f){var t=u(d);f=!0;for(var e=s.length;e;){for(l=s,s=[];++p<e;)l&&l[p].run();p=-1,e=s.length}l=null,f=!1,c(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new y(t,e)),1!==s.length||f||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(0),o=n(12);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(5)),i=r(n(6)),u=r(n(9)),c=r(n(18)),s=r(n(19)),f=r(n(20)),l=o(n(2)),p,d,h;function y(e,t){var n=Object.keys(e),r;return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(o){var a=g();return function t(){var e=(0,f.default)(o),n,r,n;return n=a?(r=(0,f.default)(this).constructor,Reflect.construct(e,arguments,r)):e.apply(this,arguments),(0,s.default)(this,n)}}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var b=(d=(0,r(n(48)).default)())(h=function(t){(0,c.default)(n,t);var e=v(n);function n(){return(0,i.default)(this,n),e.apply(this,arguments)}return(0,u.default)(n,[{key:"render",value:function t(){return this.props.maka(m(m({},this.props),{},{path:"root"}))}}]),n}(l.Component))||h;e.default=b},function(t,e,n){"use strict";var r=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(n(6)),a=r(n(9)),c=r(n(36)),s=r(n(18)),i=r(n(19)),f=r(n(20)),l=r(n(5)),p=r(n(2)),d=r(n(3)),h=n(4);function y(o){var a=m();return function t(){var e=(0,f.default)(o),n,r,n;return n=a?(r=(0,f.default)(this).constructor,Reflect.construct(e,arguments,r)):e.apply(this,arguments),(0,i.default)(this,n)}}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var o=function(t){(0,s.default)(i,t);var o=y(i);function i(t){var a;(0,u.default)(this,i),a=o.call(this,t),(0,l.default)((0,c.default)(a),"listen",function(t){var e=t.location,n=t.action;history.state&&history.state.orginalUrl&&history.replaceState(history.state.orginalUrl);var r=e.pathname+e.search,o;r&&"/"!=r||a.props.appName!=a.state.currentApp?(o=(r="/"==r.substr(0,1)?r.substr(1):r).split("/")[0])&&o!=a.state.currentApp&&a.setState({currentApp:o}):h.navigate.redirect(a.state.currentApp)}),h.navigate.listen(a.listen);var e,n=h.navigate.getLocation(),r=n.pathname+n.search,e=r&&"/"!=r?(r="/"==r.substr(0,1)?r.substr(1):r).split("/")[0]:t.appName;return a.state={currentApp:e},r&&"/"!=r?h.navigate.redirect("/"+r):h.navigate.redirect("/"+e),a}return(0,a.default)(i,[{key:"componentWillUnmount",value:function t(){h.navigate.unlisten(this.listen)}},{key:"render",value:function t(){var e=-1!=location.hash.indexOf("_notClearAppState");return p.default.createElement(d.default.AppLoader,{key:this.state.currentApp,name:this.state.currentApp,_notClearAppState:e})}}]),i}(p.default.PureComponent);e.default=o},function(t,e,n){"use strict";function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.r(e),n.d(e,"Action",function(){return g}),n.d(e,"createBrowserHistory",function(){return a}),n.d(e,"createHashHistory",function(){return i}),n.d(e,"createMemoryHistory",function(){return u}),n.d(e,"createPath",function(){return j}),n.d(e,"parsePath",function(){return w});var g,r=g=g||{};r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE";var b=function(t){return t};function o(t,e){if(!t){"undefined"!=typeof console&&console.warn(e);try{throw Error(e)}catch(t){}}}function O(t){t.preventDefault(),t.returnValue=""}function _(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(t){return t!==e})}},call:function(e){t.forEach(function(t){return t&&t(e)})}}}function x(){return Math.random().toString(36).substr(2,8)}function j(t){var e=t.pathname,n=t.search;return(void 0===e?"/":e)+(void 0===n?"":n)+(void 0===(t=t.hash)?"":t)}function w(t){var e={},n;return t&&(0<=(n=t.indexOf("#"))&&(e.hash=t.substr(n),t=t.substr(0,n)),0<=(n=t.indexOf("?"))&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)),e}function a(t){function o(){var t=l.location,e=p.state||{};return[e.idx,b({pathname:t.pathname,search:t.search,hash:t.hash,state:e.usr||null,key:e.key||"default"})]}function i(t){return"string"==typeof t?t:j(t)}function u(t,e){return void 0===e&&(e=null),b(v({},n,{},"string"==typeof t?w(t):t,{state:e,key:x()}))}function c(t){e=t,t=o(),h=t[0],n=t[1],r.call({action:e,location:n})}function s(t,e){function n(){s(t,e)}var r=g.Push,o=u(t,e);if(!y.length||(y.call({action:r,location:o,retry:n}),0)){var a,o=(a=[{usr:o.state,key:o.key,idx:h+1},i(o)])[0],a=a[1];try{p.pushState(o,"",a)}catch(t){l.location.assign(a)}c(r)}}function a(t,e){function n(){a(t,e)}var r=g.Replace,o=u(t,e);y.length?y.call({action:r,location:o,retry:n}):(o=[{usr:o.state,key:o.key,idx:h},i(o)],p.replaceState(o[0],"",o[1]),c(r))}function f(t){p.go(t)}void 0===t&&(t={});var l=void 0===(t=t.window)?document.defaultView:t,p=l.history,d=null;l.addEventListener("popstate",function(){var t,e,n,r,e;d?(y.call(d),d=null):(t=g.Pop,n=(e=o())[0],e=e[1],y.length?null==n||(r=h-n)&&(d={action:t,location:e,retry:function(){f(-1*r)}},f(r)):c(t))});var e=g.Pop,h=(t=o())[0],n=t[1],r=_(),y=_();return null==h&&(h=0,p.replaceState(v({},p.state,{idx:h}),"")),{get action(){return e},get location(){return n},createHref:i,push:s,replace:a,go:f,back:function(){f(-1)},forward:function(){f(1)},listen:function(t){return r.push(t)},block:function(t){var e=y.push(t);return 1===y.length&&l.addEventListener("beforeunload",O),function(){e(),y.length||l.removeEventListener("beforeunload",O)}}}}function i(t){function o(){var t,e=(t=w(l.location.hash.substr(1))).pathname,n=t.search,t=t.hash,r=p.state||{};return[r.idx,b({pathname:void 0===e?"/":e,search:void 0===n?"":n,hash:void 0===t?"":t,state:r.usr||null,key:r.key||"default"})]}function e(){var t,e,n,r,e;d?(m.call(d),d=null):(t=g.Pop,n=(e=o())[0],e=e[1],m.length?null==n||(r=h-n)&&(d={action:t,location:e,retry:function(){f(-1*r)}},f(r)):c(t))}function i(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=-1===(n=(e=l.location.href).indexOf("#"))?e:e.slice(0,n)),n+"#"+("string"==typeof t?t:j(t))}function u(t,e){return void 0===e&&(e=null),b(v({},r,{},"string"==typeof t?w(t):t,{state:e,key:x()}))}function c(t){n=t,t=o(),h=t[0],r=t[1],y.call({action:n,location:r})}function s(t,e){function n(){s(t,e)}var r=g.Push,o=u(t,e);if(!m.length||(m.call({action:r,location:o,retry:n}),0)){var a,o=(a=[{usr:o.state,key:o.key,idx:h+1},i(o)])[0],a=a[1];try{p.pushState(o,"",a)}catch(t){l.location.assign(a)}c(r)}}function a(t,e){function n(){a(t,e)}var r=g.Replace,o=u(t,e);m.length?m.call({action:r,location:o,retry:n}):(o=[{usr:o.state,key:o.key,idx:h},i(o)],p.replaceState(o[0],"",o[1]),c(r))}function f(t){p.go(t)}void 0===t&&(t={});var l=void 0===(t=t.window)?document.defaultView:t,p=l.history,d=null;l.addEventListener("popstate",e),l.addEventListener("hashchange",function(){var t;j(o()[1])!==j(r)&&e()});var n=g.Pop,h=(t=o())[0],r=t[1],y=_(),m=_();return null==h&&(h=0,p.replaceState(v({},p.state,{idx:h}),"")),{get action(){return n},get location(){return r},createHref:i,push:s,replace:a,go:f,back:function(){f(-1)},forward:function(){f(1)},listen:function(t){return y.push(t)},block:function(t){var e=m.push(t);return 1===m.length&&l.addEventListener("beforeunload",O),function(){e(),m.length||l.removeEventListener("beforeunload",O)}}}}function u(t){function o(t,e){return void 0===e&&(e=null),b(v({},r,{},"string"==typeof t?w(t):t,{state:e,key:x()}))}function a(t,e,n){return!d.length||(d.call({action:t,location:e,retry:n}),0)}function i(t,e){n=t,r=e,p.call({action:n,location:r})}function u(t,e){var n=g.Push,r=o(t,e);a(n,r,function(){u(t,e)})&&(l+=1,f.splice(l,f.length,r),i(n,r))}function c(t,e){var n=g.Replace,r=o(t,e);a(n,r,function(){c(t,e)})&&i(n,f[l]=r)}function s(t){var e=Math.min(Math.max(l+t,0),f.length-1),n=g.Pop,r=f[e];a(n,r,function(){s(t)})&&(l=e,i(n,r))}void 0===t&&(t={});var e=t;t=e.initialEntries,e=e.initialIndex;var f=(void 0===t?["/"]:t).map(function(t){var e;return b(v({pathname:"/",search:"",hash:"",state:null,key:x()},"string"==typeof t?w(t):t))}),l=Math.min(Math.max(null==e?f.length-1:e,0),f.length-1),n=g.Pop,r=f[l],p=_(),d=_();return{get index(){return l},get action(){return n},get location(){return r},createHref:function(t){return"string"==typeof t?t:j(t)},push:u,replace:c,go:s,back:function(){s(-1)},forward:function(){s(1)},listen:function(t){return p.push(t)},block:function(t){return d.push(t)}}}}],c.c=f,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return c.d(t,"a",t),t},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c(c.s=51);function c(t){if(f[t])return f[t].exports;var e=f[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}var s,f});